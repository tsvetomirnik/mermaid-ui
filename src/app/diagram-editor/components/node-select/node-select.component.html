<div class="dropdown relative">
  <button
    class="dropdown-toggle flex w-full items-center justify-between whitespace-nowrap rounded bg-blue-600 px-3 py-3 text-xs font-medium uppercase leading-tight text-white shadow-md transition duration-150 ease-in-out hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:text-white active:shadow-lg"
    type="button"
    id="dropdownMenuButton1"
    data-bs-toggle="dropdown"
    aria-expanded="false"
    (click)="isOpen = !isOpen"
    (mouseover)="this.optionHover.emit(selectedNode?.id ?? null)"
    (mouseout)="this.optionHover.emit(null)"
  >
    <ng-container *ngIf="selectedNode">
      <app-node [node]="selectedNode"></app-node>
    </ng-container>
    <ng-container *ngIf="!selectedNode">Select node</ng-container>
    <svg
      aria-hidden="true"
      focusable="false"
      data-prefix="fas"
      data-icon="caret-down"
      class="ml-2 w-2"
      role="img"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 320 512"
    >
      <path
        fill="currentColor"
        d="M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"
      ></path>
    </svg>
  </button>
  <ul
    class="dropdown-menu absolute z-50 float-left m-0 mt-1 hidden w-full min-w-max list-none rounded-lg border-none bg-white bg-clip-padding py-2 text-left text-base shadow-lg"
    [class.hidden]="!isOpen"
    aria-labelledby="dropdownMenuButton1"
  >
    <li
      *ngFor="let node of nodes"
      (mouseover)="this.optionHover.emit(node.id)"
      (mouseout)="this.optionHover.emit(null)"
    >
      <button
        type="button"
        class="dropdown-item block w-full truncate whitespace-nowrap bg-transparent py-2 px-4 text-left text-sm font-normal text-gray-700 hover:bg-gray-100"
        (click)="selectNode(node.id)"
      >
        <app-node [node]="node"></app-node>
      </button>
    </li>
  </ul>
</div>
